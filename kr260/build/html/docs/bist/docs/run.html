<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Setting up the Board and Application Deployment &mdash; Kria™ KR260 2022.1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/documentation_options.js?v=2406f4f9"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="BIST Overview" href="overview.html" />
    <link rel="prev" title="BIST" href="../bist_landing.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../index.html" class="icon icon-home"> Kria™ KR260
          </a>
              <div class="version">
                2022.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">SOM</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/">Landing Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/Kria_doc_map/map.htm">Kria Adventure Map</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/creating_applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/ubuntu_support.html">Ubuntu Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/bootfw.html">Boot Firmware</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/openamp.html">OpenAMP</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/dfx.html">Dynamic Function eXchange</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/yocto.html">Yocto Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/xen.html">XEN Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/freertos.html">FreeRTOS Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kd240-docs.html">Kria KD240</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kv260-docs.html">Kria KV260</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kr260-docs.html">Kria KR260</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/KRS/">Kria Robotics Stack</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">KR260 Applications</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../10gige_vision_camera/10gige_vision_camera_landing.html">10GigE Vision Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ros2_multinode_communication_via_tsn/ros2_multinode_communication_via_tsn_landing.html">ROS 2 Multi-Node Communications via TSN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ros2_perception_node/ros2_perception_node_landing.html">ROS 2 Perception Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gps_1588_ptp/gps_1588_ptp_precision_time_mgmt.html">Precision Time Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../bist_landing.html">Built-In Self Test (BIST)</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Install and Run BIST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up-the-host-machine">Set up the Host Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up-the-board">Set up the Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tested-artifacts">Tested Artifacts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kd240-platform-artifacts">KD240 platform artifacts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kr260-platform-artifacts">KR260 platform artifacts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kv260-platform-artifacts">KV260 platform artifacts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-docker-image">Application docker image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#boot-linux">Boot Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-and-load-the-bist-pl-firmware">Download and Load the BIST PL Firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-ssh-with-x-forwarding">Setup SSH with X-forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous-preparation">Miscellaneous Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-and-run-the-bist-docker-image">Download and Run the BIST Docker Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-ip-addresses-on-the-kria-board">Setup IP addresses on the Kria board</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-bist-application">Run the BIST Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-and-logs">Output and Logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview of BIST Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="known_issues.html">Known Issues</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/Xilinx/kria-bist">Software Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bist_landing.html#support">Support</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Kria™ KR260</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../bist_landing.html">BIST</a> &raquo;</li>
      <li>Setting up the Board and Application Deployment</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/bist/docs/run.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="setting-up-the-board-and-application-deployment">
<h1>Setting up the Board and Application Deployment<a class="headerlink" href="#setting-up-the-board-and-application-deployment" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This document shows how to set up the board and run the Built-In Self Test
(BIST) application.</p>
<p>This guide and its prebuilts are targeted for Ubuntu 22.04 and Xilinx 2023.1
toolchain.</p>
</section>
<section id="set-up-the-host-machine">
<h2>Set up the Host Machine<a class="headerlink" href="#set-up-the-host-machine" title="Link to this heading">¶</a></h2>
<p><em><strong>Note</strong></em>: Setting up the host machine is only required to test the ethernet
and SFP+ interfaces. If this is skipped, the tests for these interfaces
fail.</p>
<ul>
<li><p>Install the NIC card into the host machine.</p></li>
<li><p>The host machine can be assigned an IP in two ways:</p>
<ul class="simple">
<li><p>DHCP IP Assignment</p></li>
<li><p>Static IP Assignment</p></li>
</ul>
</li>
<li><p>Configure the host machine to have a DHCP/Static IP and set the
<code class="docutils literal notranslate"><span class="pre">BIST_REMOTE_HOST_IP</span></code> environment variable on the AMD Kria ™ board.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">export</span> <span class="n">BIST_REMOTE_HOST_IP</span><span class="o">=&lt;</span><span class="n">IP_Address</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>Install iperf3.</p>
<ul>
<li><p>For Ubuntu, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">iperf3</span>
</pre></div>
</div>
</li>
<li><p>For Windows, use the appropriate download link from
<a class="reference external" href="https://iperf.fr/iperf-download.php">this page</a>.</p></li>
</ul>
</li>
<li><p>Start an iperf3 server on the host machine using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iperf3</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5201</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="set-up-the-board">
<h2>Set up the Board<a class="headerlink" href="#set-up-the-board" title="Link to this heading">¶</a></h2>
<p>Supported Starter Kits</p>
<p>The BIST application requires the following hardware setup to run
the full suite of hardware tests. See the board specific pages:</p>
<ol class="simple">
<li><p><a class="reference internal" href="setup_kv260.html"><span class="doc">KV260 Board Setup</span></a></p></li>
<li><p><a class="reference internal" href="setup_kr260.html"><span class="doc">KR260 Board Setup</span></a></p></li>
<li><p><a class="reference internal" href="setup_kd240.html"><span class="doc">KD240 Board Setup</span></a></p></li>
</ol>
</section>
<section id="tested-artifacts">
<h2>Tested Artifacts<a class="headerlink" href="#tested-artifacts" title="Link to this heading">¶</a></h2>
<p>Testing was performed with the following artifacts:</p>
<section id="kd240-platform-artifacts">
<h3>KD240 platform artifacts<a class="headerlink" href="#kd240-platform-artifacts" title="Link to this heading">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Component</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boot Fiwmare</td>
<td>K24-BootFW-01.00.bin</td>
</tr>
<tr>
<td>Linux Kernel</td>
<td>5.15.0-9002</td>
</tr>
<tr>
<td>xlnx-firmware-kd240-bist</td>
<td>0.10.1-0xlnx1</td>
</tr>
</tbody>
</table></section>
<section id="kr260-platform-artifacts">
<h3>KR260 platform artifacts<a class="headerlink" href="#kr260-platform-artifacts" title="Link to this heading">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Component</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boot Firmware</td>
<td>BOOT_xilinx-k26-starterkit-v2022.1-09152304_update3.BIN</td>
</tr>
<tr>
<td>Linux Kernel</td>
<td>5.15.0-1023</td>
</tr>
<tr>
<td>xlnx-firmware-kr260-bist</td>
<td>0.10.1-0xlnx1</td>
</tr>
</tbody>
</table></section>
<section id="kv260-platform-artifacts">
<h3>KV260 platform artifacts<a class="headerlink" href="#kv260-platform-artifacts" title="Link to this heading">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Component</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boot Firmware</td>
<td>BOOT_xilinx-k26-starterkit-v2022.1-09152304_update3.BIN</td>
</tr>
<tr>
<td>Linux Kernel</td>
<td>5.15.0-1023</td>
</tr>
<tr>
<td>xlnx-firmware-kv260-bist</td>
<td>0.10.1-0xlnx1</td>
</tr>
</tbody>
</table><p>Please refer to the <a class="reference external" href="https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/1641152513/Kria+K26+SOM#Boot-Firmware-Updates">Kria Wiki</a>
to obtain latest linux image and boot firmware.</p>
</section>
<section id="application-docker-image">
<h3>Application docker image<a class="headerlink" href="#application-docker-image" title="Link to this heading">¶</a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Docker Image</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>xilinx/kria-bist</td>
<td>2023.1</td>
</tr>
</tbody>
</table></section>
</section>
<section id="boot-linux">
<h2>Boot Linux<a class="headerlink" href="#boot-linux" title="Link to this heading">¶</a></h2>
<p>Before continuing with the BIST application specific instructions, if not yet
done so, boot Linux with instructions from:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kv260/2022.1/build/html/docs/kria_starterkit_linux_boot.html">Kria Starter Kit Linux Boot on KV260</a></p></li>
<li><p><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kr260/build/html/docs/kria_starterkit_linux_boot.html">Kria Starter Kit Linux Boot on KR260</a></p></li>
<li><p><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kd240/linux_boot.html">Kria Starter Kit Linux Boot on KD240</a></p></li>
</ol>
</section>
<section id="download-and-load-the-bist-pl-firmware">
<h2>Download and Load the BIST PL Firmware<a class="headerlink" href="#download-and-load-the-bist-pl-firmware" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Search the package feed for available bist firmware packages.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt<span class="w"> </span>search<span class="w"> </span>bist

Sorting...<span class="w"> </span>Done
Full<span class="w"> </span>Text<span class="w"> </span>Search...<span class="w"> </span>Done

xlnx-firmware-kr260-bist/jammy<span class="w"> </span><span class="m">0</span>.10-0xlnx1<span class="w"> </span>arm64
FPGA<span class="w"> </span>firmware<span class="w"> </span><span class="k">for</span><span class="w"> </span>Xilinx<span class="w"> </span>boards<span class="w"> </span>-<span class="w"> </span>kr260<span class="w"> </span>bist<span class="w"> </span>application
xlnx-firmware-kv260-bist/jammy<span class="w"> </span><span class="m">0</span>.10-0xlnx1<span class="w"> </span>arm64
FPGA<span class="w"> </span>firmware<span class="w"> </span><span class="k">for</span><span class="w"> </span>Xilinx<span class="w"> </span>boards<span class="w"> </span>-<span class="w"> </span>kv260<span class="w"> </span>bist<span class="w"> </span>application
xlnx-firmware-kd240-bist/jammy<span class="w"> </span><span class="m">0</span>.10-0xlnx1<span class="w"> </span>arm64
FPGA<span class="w"> </span>firmware<span class="w"> </span><span class="k">for</span><span class="w"> </span>Xilinx<span class="w"> </span>boards<span class="w"> </span>-<span class="w"> </span>kd240<span class="w"> </span>bist<span class="w"> </span>application
</pre></div>
</div>
</li>
<li><p>Install firmware binaries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>xlnx-firmware-kv260-bist<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>kv260-bist
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>xlnx-firmware-kr260-bist<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>kr260-bist
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>xlnx-firmware-kd240-bist<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>kd240-bist
</pre></div>
</div>
</li>
<li><p>List installed the application firmware binaries.</p>
<p>The firmware consists of bitstream, device tree overlay (dtbo) file. The
firmware is loaded dynamically on user request once Linux is fully booted.
The xmutil utility can be used for that purpose.</p>
<p>After installing the FW, execute xmutil listapps to verify that it is
captured under the listapps function, and to have dfx-mgrd, re-scan and
register all accelerators in the firmware directory tree.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>xmutil<span class="w"> </span>listapps
</pre></div>
</div>
</li>
<li><p>Load a new application firmware binary.</p>
<p>When there is already an another accelerator/firmware being activated, unload it
first, then load the desired BIST firmware.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>xmutil<span class="w"> </span>unloadapp
sudo<span class="w"> </span>xmutil<span class="w"> </span>loadapp<span class="w"> </span>kv260-bist<span class="w">      </span>//<span class="w"> </span>For<span class="w"> </span>kv260-bist
sudo<span class="w"> </span>xmutil<span class="w"> </span>loadapp<span class="w"> </span>kr260-bist<span class="w">      </span>//<span class="w"> </span>For<span class="w"> </span>kr260-bist
sudo<span class="w"> </span>xmutil<span class="w"> </span>loadapp<span class="w"> </span>kd240-bist<span class="w">      </span>//<span class="w"> </span>For<span class="w"> </span>kd240-bist
</pre></div>
</div>
<p><strong>NOTE</strong>: KD240 Firmware load <code class="docutils literal notranslate"><span class="pre">xmutil</span> <span class="pre">loadapp</span> <span class="pre">kd240-bist</span></code> will print following
messages. These are safe to ignore.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">112</span>.802574<span class="o">]</span><span class="w"> </span>net<span class="w"> </span>eth1:<span class="w"> </span>Speed<span class="w"> </span>other<span class="w"> </span>than<span class="w"> </span><span class="m">10</span>,<span class="w"> </span><span class="m">100</span>
<span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">112</span>.807227<span class="o">]</span><span class="w"> </span>net<span class="w"> </span>eth1:<span class="w"> </span>or<span class="w"> </span>1Gbps<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>supported
<span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">112</span>.866305<span class="o">]</span><span class="w"> </span>net<span class="w"> </span>eth2:<span class="w"> </span>Speed<span class="w"> </span>other<span class="w"> </span>than<span class="w"> </span><span class="m">10</span>,<span class="w"> </span><span class="m">100</span>
<span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">112</span>.871168<span class="o">]</span><span class="w"> </span>net<span class="w"> </span>eth2:<span class="w"> </span>or<span class="w"> </span>1Gbps<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>supported
</pre></div>
</div>
</li>
</ul>
</section>
<section id="setup-ssh-with-x-forwarding">
<h2>Setup SSH with X-forwarding<a class="headerlink" href="#setup-ssh-with-x-forwarding" title="Link to this heading">¶</a></h2>
<p><strong>NOTE</strong>: Setting up an SSH connection is only required to test the ximagesink
tests of the video module on KV260 board. If this is skipped, those tests will
fail</p>
<ul>
<li><p>To run the bist test suite, the test instructions should run over an SSH
connection with X-forwarding enabled.</p>
<p>Examples:</p>
<ul>
<li><p>On Host, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>-X<span class="w"> </span>ubuntu@&lt;Kria<span class="w"> </span>Starter<span class="w"> </span>Kit<span class="w"> </span>IP<span class="w"> </span>address&gt;
</pre></div>
</div>
<p><strong>NOTE</strong>: If all ethernet cables are plugged in, feel free to use any IP.</p>
</li>
<li><p>On Windows, download <a class="reference external" href="https://mobaxterm.mobatek.net/download.html">Mobaxterm</a>,
which automatically enables X-forwarding when creating a new ssh connection.</p></li>
</ul>
</li>
</ul>
</section>
<section id="miscellaneous-preparation">
<h2>Miscellaneous Preparation<a class="headerlink" href="#miscellaneous-preparation" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Verify if the SSH terminal is using the correct authority file.</p>
<ul class="simple">
<li><p>The output should look something like this.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xauth<span class="w"> </span>-v<span class="w"> </span>list
Using<span class="w"> </span>authority<span class="w"> </span>file<span class="w"> </span>/home/ubuntu/.Xauthority
kria/unix:10<span class="w">  </span>MIT-MAGIC-COOKIE-1<span class="w">  </span>f5212118305f75678a69daa4a6eda703
</pre></div>
</div>
<ul class="simple">
<li><p>If incorrect or no authority file is present, do the following steps:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>-rf<span class="w"> </span>~/.Xaut*
</pre></div>
</div>
<ul class="simple">
<li><p>Reboot the target board.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
<ul class="simple">
<li><p>Check the <code class="docutils literal notranslate"><span class="pre">xauth</span> <span class="pre">-v</span> <span class="pre">list</span></code> after reboot(in SSH terminal), it should display
the correct authority file on the output console.</p></li>
</ul>
</li>
<li><p>The BIST application tests the fan. Therefore, if a fan is present stop the
fancontrol service before running the docker for the testing to function as
intended.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>fancontrol
</pre></div>
</div>
</li>
<li><p>On KV260/KR260 disable desktop environment before running the docker
for the display testing to function as intended. On KD240 this step can be
skipped as we are using a headless Ubuntu Server image.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>xmutil<span class="w"> </span>desktop_disable
</pre></div>
</div>
<p><em><strong>NOTE</strong></em>: Executing “xmutil desktop_disable” causes the monitor to go
blank.</p>
</li>
<li><p>Remember to start the fancontrol service after exiting the docker container.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>fancontrol
</pre></div>
</div>
</li>
<li><p>After running the application and exiting the docker container, the desktop
environment can be enabled again.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>xmutil<span class="w"> </span>desktop_enable
</pre></div>
</div>
</li>
</ul>
</section>
<section id="download-and-run-the-bist-docker-image">
<h2>Download and Run the BIST Docker Image<a class="headerlink" href="#download-and-run-the-bist-docker-image" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Pull the docker image from dockerhub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>pull<span class="w"> </span>xilinx/kria-bist:2023.1
</pre></div>
</div>
</li>
<li><p>The storage volume on the SD card can be limited with multiple docker
images inbstalled. If there are space issues, use the following command
to remove existing docker images.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>rmi<span class="w"> </span>--force<span class="w"> </span>&lt;image&gt;
</pre></div>
</div>
</li>
<li><p>You can find the images installed with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>images
</pre></div>
</div>
</li>
<li><p>Launch the docker container using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--env<span class="o">=</span>DISPLAY<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--env<span class="o">=</span>XDG_SESSION_TYPE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--net<span class="o">=</span>host<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--privileged<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--volume<span class="o">=</span>/home/ubuntu/.Xauthority:/root/.Xauthority:rw<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/tmp:/tmp<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/dev:/dev<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/sys:/sys<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/etc/vart.conf:/etc/vart.conf<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/lib/firmware/xilinx:/lib/firmware/xilinx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>/run:/run<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-it<span class="w"> </span>xilinx/kria-bist:2023.1<span class="w"> </span>bash
</pre></div>
</div>
</li>
<li><p>It launches the bist image in a new container and drops the user into a bash
shell.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="nd">@xlnx</span><span class="o">-</span><span class="n">docker</span><span class="o">/</span><span class="c1">#</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="setup-ip-addresses-on-the-kria-board">
<h2>Setup IP addresses on the Kria board<a class="headerlink" href="#setup-ip-addresses-on-the-kria-board" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">BIST_REMOTE_HOST_IP</span></code> environment variable on Kria board</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">export</span> <span class="n">BIST_REMOTE_HOST_IP</span><span class="o">=&lt;</span><span class="n">IP_Address</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>You can assign IP addresses in two ways:</p>
<ul class="simple">
<li><p>DHCP IP Assignment - IP addresses are auto-assigned.</p></li>
<li><p>Static IP Assignment - You need to set a Static IP for the eth interfaces
under test. Make sure that the Static IPs are in the same subnet as the
remote host machine.</p></li>
</ul>
</li>
</ul>
</section>
<section id="run-the-bist-application">
<h2>Run the BIST Application<a class="headerlink" href="#run-the-bist-application" title="Link to this heading">¶</a></h2>
<p>The application is installed under <code class="docutils literal notranslate"><span class="pre">/opt/xilinx/kria-bist</span></code>. Navigate to the
“tests” directory from where the BIST tests are to be run.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/xilinx/kria-bist/tests
</pre></div>
</div>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h3>
<p>Commonly used command line switches for BIST.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>

OPTIONS:
<span class="w">  </span>--collect-only<span class="w">                </span>Collect<span class="w"> </span>the<span class="w"> </span>tests
<span class="w">  </span>--board<span class="w"> </span>&lt;target_board&gt;<span class="w">        </span>Specify<span class="w"> </span>target<span class="w"> </span>board
<span class="w">  </span>-k<span class="w"> </span>&lt;test_name&gt;<span class="w">                </span>Run<span class="w"> </span>an<span class="w"> </span>individual<span class="w"> </span><span class="nb">test</span>
<span class="w">  </span>-m<span class="w"> </span>&lt;module_name&gt;<span class="w">              </span>Specify<span class="w"> </span>module<span class="w"> </span>name
</pre></div>
</div>
</section>
<section id="output-and-logs">
<h3>Output and Logs<a class="headerlink" href="#output-and-logs" title="Link to this heading">¶</a></h3>
<p>The pytest command line output has two separate sessions as follows:</p>
<ul>
<li><p>Test session</p>
<p>It displays the number of collected, deselected, and selected tests. Current
running test is also shown.</p>
<p>For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.6,<span class="w"> </span>pytest-6.2.5,<span class="w"> </span>py-1.10.0,<span class="w"> </span>pluggy-0.13.0
rootdir:<span class="w"> </span>/opt/xilinx/kria-bist/tests,<span class="w"> </span>configfile:<span class="w"> </span>pytest.ini
plugins:<span class="w"> </span>anyio-3.6.1
collected<span class="w"> </span><span class="m">34</span><span class="w"> </span>items<span class="w"> </span>/<span class="w"> </span><span class="m">33</span><span class="w"> </span>deselected<span class="w"> </span>/<span class="w"> </span><span class="m">1</span><span class="w"> </span>selected

gpio/test_bist_gpio.py::test_gpio<span class="o">[</span>pmod0<span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Live Log call</p>
<p>This displays the current status of the test.</p>
<ol class="simple">
<li><p>Start of test: Indicates that the test has started.</p></li>
<li><p>Test observations: Prints the test observation on the command line.</p></li>
<li><p>Test passed/failed: Declares the test result, that is, pass/fail.</p></li>
<li><p>End of Test: Indicates that the test has ended.</p></li>
</ol>
<p>For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0001</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0001</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0010</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0010</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0100</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0100</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">1000</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">1000</span><span class="w"> </span>:<span class="w"> </span>Match
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED<span class="w">                                                                   </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">=======================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed,<span class="w"> </span><span class="m">33</span><span class="w"> </span>deselected<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span>.02s<span class="w"> </span><span class="o">=======================</span>
</pre></div>
</div>
</li>
<li><p>A log file (<code class="docutils literal notranslate"><span class="pre">kria_bist_pytest.log</span></code>) is created in the current directory.</p></li>
</ul>
</section>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Run the entire BIST test suite for a target board.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span>--board<span class="w"> </span>kv260<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>KV260
pytest-3<span class="w"> </span>--board<span class="w"> </span>kr260<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>KR260
pytest-3<span class="w"> </span>--board<span class="w"> </span>kd240<span class="w">     </span>//<span class="w"> </span>For<span class="w"> </span>KD240
</pre></div>
</div>
</li>
<li><p>Run individual tests.</p>
<p>The following example runs the pmod0 test on the KV260 as target board.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span>-k<span class="w"> </span>pmod0<span class="w"> </span>--board<span class="w"> </span><span class="nv">kv260</span>

<span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.6,<span class="w"> </span>pytest-6.2.5,<span class="w"> </span>py-1.10.0,<span class="w"> </span>pluggy-0.13.0
rootdir:<span class="w"> </span>/opt/xilinx/kria-bist/tests,<span class="w"> </span>configfile:<span class="w"> </span>pytest.ini
plugins:<span class="w"> </span>anyio-3.6.1
collected<span class="w"> </span><span class="m">34</span><span class="w"> </span>items<span class="w"> </span>/<span class="w"> </span><span class="m">33</span><span class="w"> </span>deselected<span class="w"> </span>/<span class="w"> </span><span class="m">1</span><span class="w"> </span>selected

gpio/test_bist_gpio.py::test_gpio<span class="o">[</span>pmod0<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0001</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0001</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0010</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0010</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">0100</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">0100</span><span class="w"> </span>:<span class="w"> </span>Match
Write<span class="w"> </span>pattern:<span class="w"> </span><span class="m">1000</span>,<span class="w"> </span>Read<span class="w"> </span>pattern<span class="w"> </span><span class="m">1000</span><span class="w"> </span>:<span class="w"> </span>Match
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED<span class="w">                                                                   </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">=======================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed,<span class="w"> </span><span class="m">33</span><span class="w"> </span>deselected<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span>.01s<span class="w"> </span><span class="o">=======================</span>
</pre></div>
</div>
</li>
<li><p>Collect test cases.</p>
<p>Collect all the tests for a target board.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span>--collect-only<span class="w"> </span>--board<span class="w"> </span><span class="nv">kv260</span>

<span class="o">==========================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">===============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.6,<span class="w"> </span>pytest-6.2.5,<span class="w"> </span>py-1.10.0,<span class="w"> </span>pluggy-0.13.0
rootdir:<span class="w"> </span>/opt/xilinx/kria-bist/tests,<span class="w"> </span>configfile:<span class="w"> </span>pytest.ini
plugins:<span class="w"> </span>anyio-3.6.1
collected<span class="w"> </span><span class="m">40</span><span class="w"> </span>items

&lt;Module<span class="w"> </span>disk/test_bist_disk.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb1_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb1_write_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb2_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb2_write_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb3_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb3_write_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb4_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>usb4_write_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>sd_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_disk<span class="o">[</span>sd_write_performance<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>display/test_bist_display.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_display<span class="o">[</span>display_connectivity<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_display<span class="o">[</span>display_modetest<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>eeprom/test_bist_eeprom.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_eeprom<span class="o">[</span>som_eeprom<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_eeprom<span class="o">[</span>carrier_card_eeprom<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>eth/test_bist_eth.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_eth<span class="o">[</span>ethernet1_ping<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_eth<span class="o">[</span>ethernet1_perf<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>gpio/test_bist_gpio.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_gpio<span class="o">[</span>pmod0<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>i2c/test_bist_i2c.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_i2c<span class="o">[</span>ps_i2c_bus_main<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_i2c<span class="o">[</span>axi_i2c_bus_main<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_i2c<span class="o">[</span>axi_i2c_bus_ch0<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>iio/test_bist_iio.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_iio<span class="o">[</span>ina260_current<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>mtd/test_bist_mtd.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_mtd<span class="o">[</span>qspi_read_write<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_mtd<span class="o">[</span>qspi_read_performance<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_mtd<span class="o">[</span>qspi_write_performance<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>pwm/test_bist_pwm.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_pwm<span class="o">[</span>fan<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>tpm/test_bist_tpm.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_getcap<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_selftest<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_getrandom<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_hash<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_pcrread<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_pcrextend<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_tpm<span class="o">[</span>tpm2_pcrreset<span class="o">]</span>&gt;
&lt;Module<span class="w"> </span>video/test_bist_video.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_ap1302_ximagesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_ap1302_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>tpg_ap1302_ximagesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>tpg_ap1302_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>imx219_filesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>imx219_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_filesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_perf<span class="o">]</span>&gt;

<span class="o">======================</span><span class="w"> </span><span class="m">40</span><span class="w"> </span>tests<span class="w"> </span>collected<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span>.02s<span class="w"> </span><span class="o">===========================</span>
</pre></div>
</div>
</li>
<li><p>Collect all tests for a specific testmodule for a target board.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span>--collect-only<span class="w"> </span>--board<span class="w"> </span>kv260<span class="w"> </span>-m<span class="w"> </span><span class="nv">video</span>

<span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.6,<span class="w"> </span>pytest-6.2.5,<span class="w"> </span>py-1.10.0,<span class="w"> </span>pluggy-0.13.0
rootdir:<span class="w"> </span>/opt/xilinx/kria-bist/tests,<span class="w"> </span>configfile:<span class="w"> </span>pytest.ini
plugins:<span class="w"> </span>anyio-3.6.1
collected<span class="w"> </span><span class="m">34</span><span class="w"> </span>items<span class="w"> </span>/<span class="w"> </span><span class="m">26</span><span class="w"> </span>deselected<span class="w"> </span>/<span class="w"> </span><span class="m">8</span><span class="w"> </span>selected

&lt;Module<span class="w"> </span>video/test_bist_video.py&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_ap1302_ximagesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_ap1302_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>tpg_ap1302_ximagesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>tpg_ap1302_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>imx219_filesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>imx219_perf<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_filesink<span class="o">]</span>&gt;
<span class="w">  </span>&lt;Function<span class="w"> </span>test_video<span class="o">[</span>ar1335_perf<span class="o">]</span>&gt;

<span class="o">================</span><span class="w"> </span><span class="m">8</span>/34<span class="w"> </span>tests<span class="w"> </span>collected<span class="w"> </span><span class="o">(</span><span class="m">26</span><span class="w"> </span>deselected<span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.99s<span class="w"> </span><span class="o">=================</span>
</pre></div>
</div>
</li>
<li><p>Run all tests for a target board and the module.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest-3<span class="w"> </span>--board<span class="w"> </span>kv260<span class="w"> </span>-m<span class="w"> </span><span class="nv">video</span>

<span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.6,<span class="w"> </span>pytest-6.2.5,<span class="w"> </span>py-1.10.0,<span class="w"> </span>pluggy-0.13.0
rootdir:<span class="w"> </span>/opt/xilinx/kria-bist/tests,<span class="w"> </span>configfile:<span class="w"> </span>pytest.ini
plugins:<span class="w"> </span>anyio-3.6.1
collected<span class="w"> </span><span class="m">34</span><span class="w"> </span>items<span class="w"> </span>/<span class="w"> </span><span class="m">26</span><span class="w"> </span>deselected<span class="w"> </span>/<span class="w"> </span><span class="m">8</span><span class="w"> </span>selected

video/test_bist_video.py::test_video<span class="o">[</span>ar1335_ap1302_ximagesink<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Please<span class="w"> </span>observe<span class="w"> </span>the<span class="w"> </span>pop-up<span class="w"> </span>window
Do<span class="w"> </span>you<span class="w"> </span>see<span class="w"> </span>color<span class="w"> </span>bar<span class="w"> </span><span class="nb">test</span><span class="w"> </span>pattern<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>window<span class="w"> </span><span class="o">[</span>Y/N<span class="o">]</span>?
y
User<span class="w"> </span>reports<span class="w"> </span>that<span class="w"> </span>pattern<span class="w"> </span>was<span class="w"> </span>observed<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>window
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>ar1335_ap1302_perf<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Actual<span class="w"> </span>fps:<span class="w"> </span><span class="m">30</span>.0,<span class="w"> </span>Target<span class="w"> </span>fps:30<span class="w"> </span>-<span class="w"> </span>Actual<span class="w"> </span>fps<span class="w"> </span>within<span class="w"> </span>accepted<span class="w"> </span>range
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>tpg_ap1302_ximagesink<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Please<span class="w"> </span>observe<span class="w"> </span>the<span class="w"> </span>pop-up<span class="w"> </span>window
Do<span class="w"> </span>you<span class="w"> </span>see<span class="w"> </span>color<span class="w"> </span>bar<span class="w"> </span><span class="nb">test</span><span class="w"> </span>pattern<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>window<span class="w"> </span><span class="o">[</span>Y/N<span class="o">]</span>?
y
User<span class="w"> </span>reports<span class="w"> </span>that<span class="w"> </span>pattern<span class="w"> </span>was<span class="w"> </span>observed<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>window
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>tpg_ap1302_perf<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Actual<span class="w"> </span>fps:<span class="w"> </span><span class="m">30</span>.003,<span class="w"> </span>Target<span class="w"> </span>fps:30<span class="w"> </span>-<span class="w"> </span>Actual<span class="w"> </span>fps<span class="w"> </span>within<span class="w"> </span>accepted<span class="w"> </span>range
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>imx219_filesink<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>

<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.009:<span class="w"> </span>gst_structure_fixate_field_nearest_int:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed

<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.009:<span class="w"> </span>gst_structure_fixate_field_nearest_int:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed

<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.010:<span class="w"> </span>gst_structure_fixate_field_nearest_fraction:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed
Test<span class="w"> </span>Image<span class="w"> </span>and<span class="w"> </span>Golden<span class="w"> </span>Image<span class="w"> </span>match
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>imx219_perf<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Actual<span class="w"> </span>fps:<span class="w"> </span><span class="m">30</span>.004,<span class="w"> </span>Target<span class="w"> </span>fps:30<span class="w"> </span>-<span class="w"> </span>Actual<span class="w"> </span>fps<span class="w"> </span>within<span class="w"> </span>accepted<span class="w"> </span>range
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>ar1335_filesink<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.009:<span class="w"> </span>gst_structure_fixate_field_nearest_int:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed

<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.009:<span class="w"> </span>gst_structure_fixate_field_nearest_int:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed

<span class="o">(</span>gst-launch-1.0:89<span class="o">)</span>:<span class="w"> </span>GStreamer-CRITICAL<span class="w"> </span>**:<span class="w"> </span><span class="m">21</span>:29:17.010:<span class="w"> </span>gst_structure_fixate_field_nearest_fraction:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;IS_MUTABLE (structure)&#39;</span><span class="w"> </span>failed
Test<span class="w"> </span>Image<span class="w"> </span>and<span class="w"> </span>Golden<span class="w"> </span>Image<span class="w"> </span>match
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED
video/test_bist_video.py::test_video<span class="o">[</span>ar1335_perf<span class="o">]</span>
--------------------------------<span class="w"> </span>live<span class="w"> </span>log<span class="w"> </span>call<span class="w"> </span>---------------------------------
------------------------------------------
Start<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
Actual<span class="w"> </span>fps:<span class="w"> </span><span class="m">30</span>.004,<span class="w"> </span>Target<span class="w"> </span>fps:30<span class="w"> </span>-<span class="w"> </span>Actual<span class="w"> </span>fps<span class="w"> </span>within<span class="w"> </span>accepted<span class="w"> </span>range
Test<span class="w"> </span>passed
End<span class="w"> </span>of<span class="w"> </span><span class="nb">test</span>
PASSED<span class="w">                                                                   </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">====================</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>passed,<span class="w"> </span><span class="m">26</span><span class="w"> </span>deselected<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">42</span>.11s<span class="w"> </span><span class="o">=======================</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="overview.html"><span class="doc">BIST Overview</span></a></p></li>
</ul>
<p class="sphinxhide" align="center"><sub>Copyright © 2023 Advanced Micro Devices, Inc</sub></p><p class="sphinxhide" align="center"><sup><a href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></sup></p></section>
</section>


           </div>
          </div>
          
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bist_landing.html" class="btn btn-neutral float-left" title="BIST" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="overview.html" class="btn btn-neutral float-right" title="BIST Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on July 09, 2024.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>